{"version":3,"file":"emphasis.js","sources":["../../../../../../../node_modules/mdast-util-to-markdown/lib/handle/emphasis.js"],"sourcesContent":["/**\n * @import {Info, State} from 'mdast-util-to-markdown'\n * @import {Emphasis, Parents} from 'mdast'\n */\n\nimport {checkEmphasis} from '../util/check-emphasis.js'\nimport {encodeCharacterReference} from '../util/encode-character-reference.js'\nimport {encodeInfo} from '../util/encode-info.js'\n\nemphasis.peek = emphasisPeek\n\n/**\n * @param {Emphasis} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function emphasis(node, _, state, info) {\n  const marker = checkEmphasis(state)\n  const exit = state.enter('emphasis')\n  const tracker = state.createTracker(info)\n  const before = tracker.move(marker)\n\n  let between = tracker.move(\n    state.containerPhrasing(node, {\n      after: marker,\n      before,\n      ...tracker.current()\n    })\n  )\n  const betweenHead = between.charCodeAt(0)\n  const open = encodeInfo(\n    info.before.charCodeAt(info.before.length - 1),\n    betweenHead,\n    marker\n  )\n\n  if (open.inside) {\n    between = encodeCharacterReference(betweenHead) + between.slice(1)\n  }\n\n  const betweenTail = between.charCodeAt(between.length - 1)\n  const close = encodeInfo(info.after.charCodeAt(0), betweenTail, marker)\n\n  if (close.inside) {\n    between = between.slice(0, -1) + encodeCharacterReference(betweenTail)\n  }\n\n  const after = tracker.move(marker)\n\n  exit()\n\n  state.attentionEncodeSurroundingInfo = {\n    after: close.outside,\n    before: open.outside\n  }\n  return before + between + after\n}\n\n/**\n * @param {Emphasis} _\n * @param {Parents | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nfunction emphasisPeek(_, _1, state) {\n  return state.options.emphasis || '*'\n}\n"],"names":["emphasis","emphasisPeek","node","_","state","info","marker","checkEmphasis","exit","tracker","before","between","betweenHead","open","encodeInfo","encodeCharacterReference","betweenTail","close","after","_1"],"mappings":";;;AASAA,EAAS,OAAOC;AAST,SAASD,EAASE,GAAMC,GAAGC,GAAOC,GAAM;AAC7C,QAAMC,IAASC,EAAcH,CAAK,GAC5BI,IAAOJ,EAAM,MAAM,UAAU,GAC7BK,IAAUL,EAAM,cAAcC,CAAI,GAClCK,IAASD,EAAQ,KAAKH,CAAM;AAElC,MAAIK,IAAUF,EAAQ;AAAA,IACpBL,EAAM,kBAAkBF,GAAM;AAAA,MAC5B,OAAOI;AAAA,MACP,QAAAI;AAAA,MACA,GAAGD,EAAQ,QAAO;AAAA,IACxB,CAAK;AAAA,EACL;AACE,QAAMG,IAAcD,EAAQ,WAAW,CAAC,GAClCE,IAAOC;AAAA,IACXT,EAAK,OAAO,WAAWA,EAAK,OAAO,SAAS,CAAC;AAAA,IAC7CO;AAAA,IACAN;AAAA,EACJ;AAEE,EAAIO,EAAK,WACPF,IAAUI,EAAyBH,CAAW,IAAID,EAAQ,MAAM,CAAC;AAGnE,QAAMK,IAAcL,EAAQ,WAAWA,EAAQ,SAAS,CAAC,GACnDM,IAAQH,EAAWT,EAAK,MAAM,WAAW,CAAC,GAAGW,GAAaV,CAAM;AAEtE,EAAIW,EAAM,WACRN,IAAUA,EAAQ,MAAM,GAAG,EAAE,IAAII,EAAyBC,CAAW;AAGvE,QAAME,IAAQT,EAAQ,KAAKH,CAAM;AAEjC,SAAAE,EAAI,GAEJJ,EAAM,iCAAiC;AAAA,IACrC,OAAOa,EAAM;AAAA,IACb,QAAQJ,EAAK;AAAA,EACjB,GACSH,IAASC,IAAUO;AAC5B;AAQA,SAASjB,EAAaE,GAAGgB,GAAIf,GAAO;AAClC,SAAOA,EAAM,QAAQ,YAAY;AACnC;","x_google_ignoreList":[0]}