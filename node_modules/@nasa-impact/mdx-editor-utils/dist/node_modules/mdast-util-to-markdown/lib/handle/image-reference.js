u.peek = k;
function u(n, m, e, l) {
  const t = n.referenceType, a = e.enter("imageReference");
  let f = e.enter("label");
  const c = e.createTracker(l);
  let r = c.move("![");
  const o = e.safe(n.alt, {
    before: r,
    after: "]",
    ...c.current()
  });
  r += c.move(o + "]["), f();
  const s = e.stack;
  e.stack = [], f = e.enter("reference");
  const i = e.safe(e.associationId(n), {
    before: r,
    after: "]",
    ...c.current()
  });
  return f(), e.stack = s, a(), t === "full" || !o || o !== i ? r += c.move(i + "]") : t === "shortcut" ? r = r.slice(0, -1) : r += c.move("]"), r;
}
function k() {
  return "!";
}
export {
  u as imageReference
};
//# sourceMappingURL=image-reference.js.map
