{"version":3,"file":"extractImports.js","sources":["../src/extractImports.tsx"],"sourcesContent":["export const extractImports = (ast) => {\n  const imports: any = [];\n  const visit = (node, parent, index) => {\n    // If it's a text node with 'import' in its value\n    if (\n      node.type === 'text' &&\n      node.value &&\n      node.value.includes('import') &&\n      node.value.includes('from')\n    ) {\n      if (\n        parent &&\n        Array.isArray(parent.children) &&\n        typeof index === 'number'\n      ) {\n        // Remove the node from its original position\n        parent.children.splice(index, 1);\n        // Wrap it in a paragraph or keep as-is depending on your use case\n        imports.push({\n          type: 'paragraph',\n          children: [node],\n        });\n        return; // Skip deeper recursion into removed node\n      }\n    }\n\n    // Recurse through children if they exist\n    if (node.children && Array.isArray(node.children)) {\n      // Copy to avoid mutation issues when removing nodes\n      const childrenCopy = [...node.children];\n      for (let i = 0; i < childrenCopy.length; i++) {\n        visit(childrenCopy[i], node, i);\n      }\n    }\n  };\n\n  visit(ast, null, null);\n\n  // Prepend extracted imports to top-level children\n  if (ast.type === 'root' && Array.isArray(ast.children)) {\n    ast.children = [...imports, ...ast.children];\n  }\n\n  return ast;\n};\n"],"names":["extractImports","ast","imports","visit","node","parent","index","childrenCopy","i"],"mappings":"AAAO,MAAMA,IAAiB,CAACC,MAAQ;AACrC,QAAMC,IAAe,CAAA,GACfC,IAAQ,CAACC,GAAMC,GAAQC,MAAU;AAErC,QACEF,EAAK,SAAS,UACdA,EAAK,SACLA,EAAK,MAAM,SAAS,QAAQ,KAC5BA,EAAK,MAAM,SAAS,MAAM,KAGxBC,KACA,MAAM,QAAQA,EAAO,QAAQ,KAC7B,OAAOC,KAAU,UACjB;AAEA,MAAAD,EAAO,SAAS,OAAOC,GAAO,CAAC,GAE/BJ,EAAQ,KAAK;AAAA,QACX,MAAM;AAAA,QACN,UAAU,CAACE,CAAI;AAAA,MAAA,CAChB;AACD;AAAA,IACF;AAIF,QAAIA,EAAK,YAAY,MAAM,QAAQA,EAAK,QAAQ,GAAG;AAEjD,YAAMG,IAAe,CAAC,GAAGH,EAAK,QAAQ;AACtC,eAASI,IAAI,GAAGA,IAAID,EAAa,QAAQC;AACvC,QAAAL,EAAMI,EAAaC,CAAC,GAAGJ,GAAMI,CAAC;AAAA,IAElC;AAAA,EACF;AAEA,SAAAL,EAAMF,GAAK,MAAM,IAAI,GAGjBA,EAAI,SAAS,UAAU,MAAM,QAAQA,EAAI,QAAQ,MACnDA,EAAI,WAAW,CAAC,GAAGC,GAAS,GAAGD,EAAI,QAAQ,IAGtCA;AACT;"}